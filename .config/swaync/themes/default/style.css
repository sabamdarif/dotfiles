@import "colors.css";
@import "fonts.css";

/* Helper color definitions - Optimized for both modes */
@define-color noti-bg @surface_container_highest;
@define-color noti-bg-hover @surface_bright;
@define-color noti-bg-focus @surface_container_high;
@define-color noti-bg-darker @surface_container_low;
@define-color noti-close-bg @error_container;
@define-color noti-close-bg-hover @error;
@define-color noti-border-color @outline_variant;
@define-color text-color @on_surface;
@define-color text-color-disabled @outline;
@define-color border @outline;
@define-color mpris-album-art-overlay @surface_dim;

* {
    color: @on_surface;
}

/* Main control center container */
.control-center {
    background: @surface_container;
    border-radius: 20px;
    border: 2px solid @border;
    padding-left: 2px;
    padding-right: 2px;
    box-shadow: 0 8px 24px alpha(@shadow, 0.4);
}

.control-center-list {
    background: transparent;
}

.control-center-list-placeholder {
    opacity: 0.8;
    color: @on_surface;
}

/* Window behind control center */
.blank-window {
    background: transparent;
}

/* Hide scrollbar completely */
scrollbar {
    all: unset;
    opacity: 0;
    background: transparent;
    min-width: 0;
    min-height: 0;
}

scrollbar trough {
    all: unset;
    opacity: 0;
    background: transparent;
    min-width: 0;
    min-height: 0;
}

scrollbar slider {
    all: unset;
    opacity: 0;
    background: transparent;
    min-width: 0;
    min-height: 0;
}

/*** Widgets ***/

/* Title widget - at top with clear all */

.widget-title {
    font-size: 1.3rem;
    background: transparent;
    padding: 12px;
    font-weight: 700;
}

.widget-title>button {
    font-size: 0.95rem;
    color: @on_primary_container;
    text-shadow: none;
    background: @primary_container;
    border: 2px solid alpha(@primary, 0.5);
    box-shadow: 0 2px 8px alpha(@primary, 0.3);
    border-radius: 20px;
    margin-left: 12px;
    margin-bottom: 20px;
    padding: 8px 20px;
    font-weight: 600;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.widget-title>button:hover {
    background: @primary;
    border: 2px solid @primary;
    box-shadow: 0 4px 12px alpha(@primary, 0.5);
    transition: all 0.2s ease-in-out;
}

/* DND widget */
.widget-dnd {
    background: @primary_container;
    margin: 8px 10px;
    padding: 14px;
    border-radius: 24px;
    border: 2px solid alpha(@primary, 0.5);
    box-shadow: 0 4px 12px alpha(@primary, 0.2);
}

.widget-dnd>switch {
    font-size: initial;
    border-radius: 14px;
    background: @surface_container_highest;
    border: 2px solid @outline;
    box-shadow: none;
    min-width: 48px;
    min-height: 28px;
}

.widget-dnd>switch {
    min-height: 3px;
    min-width: 3px;
}

.widget-dnd>switch:checked {
    background: @primary;
    border: 2px solid @primary;
}

.widget-dnd>switch slider {
    background: @outline;
    border-radius: 12px;
    min-width: 20px;
    min-height: 20px;
}

.widget-dnd>switch:checked slider {
    background: @surface_container_lowest;
}

/* Buttons grid */
.widget-buttons-grid {
    font-size: 15px;
    background: @surface_container_high;
    border-radius: 16px;
    padding: 8px;
    margin: 8px 10px;
    border: 2px solid @outline_variant;
}

.widget-buttons-grid>flowbox>flowboxchild>button {
    padding: 14px 10px;
    background: @surface_container_highest;
    border-radius: 24px;
    margin: 4px;
    border: 2px solid @outline_variant;
    min-width: 100px;
    font-weight: 600;
}

.widget-buttons-grid>flowbox>flowboxchild>button:hover {
    background: @surface_bright;
    transition: all 0.2s ease-in-out;
}

.widget-buttons-grid flowboxchild>button.toggle:checked {
    background: @primary_container;
    color: @on_primary_container;
    border: 2px solid @primary;
    box-shadow: 0 4px 12px alpha(@primary, 0.3);
}

/* Menubar widget - FIXED VISIBILITY */
.widget-menubar>box>.menu-button-bar {
    background: @surface_container_high;
    /* CHANGED from transparent */
    border-radius: 16px;
    /* CHANGED from 0px */
    padding: 8px;
    /* CHANGED from 0px */
    margin: 8px 10px;
    border: 2px solid @outline_variant;
    /* ADDED */
}

.widget-menubar>box>.menu-button-bar>button {
    border: 2px solid @outline;
    background: @surface_container_highest;
    border-radius: 16px;
    font-size: 1.4rem;
    padding: 12px 24px;
    margin: 4px;
    font-weight: 700;
    box-shadow: 0 2px 8px alpha(@shadow, 0.2);
}

/* Settings menu button - Left side */
.widget-menubar>box>.menu-button-bar>button:first-child {
    background: @tertiary_container;
    border: 2px solid @tertiary;
}

.widget-menubar>box>.menu-button-bar>button:first-child:hover {
    background: @tertiary;
    border: 2px solid @tertiary;
    box-shadow: 0 4px 12px alpha(@tertiary, 0.4);
    transition: all 0.2s ease-in-out;
}

/* Power menu button - Right side */
.widget-menubar>box>.menu-button-bar>button:last-child {
    background: @error_container;
    border: 2px solid @error;
}

.widget-menubar>box>.menu-button-bar>button:last-child:hover {
    background: @error;
    color: @on_error;
    border: 2px solid @error;
    box-shadow: 0 4px 12px alpha(@error, 0.5);
    transition: all 0.2s ease-in-out;
}

/* Volume widget */
trough {
    border-radius: 20px;
    background: @surface_container_highest;
    border: 2px solid @outline_variant;
    min-height: 12px;
}

trough highlight {
    background: @primary;
    border: none;
    border-radius: 20px;
}

trough slider {
    background: @primary;
    border: 3px solid @surface_container_lowest;
    border-radius: 50%;
    min-width: 22px;
    min-height: 22px;
    box-shadow: 0 2px 6px alpha(@primary, 0.4);
}

trough slider:hover {
    background: @primary_fixed_dim;
    border: 3px solid @surface_container_lowest;
    box-shadow: 0 4px 12px alpha(@primary, 0.6);
}

.widget-volume {
    background: @secondary_container;
    border: 2px solid alpha(@secondary, 0.5);
    border-radius: 24px;
    font-size: 1.2rem;
    margin: 8px 10px 0px 10px;
    padding: 14px 18px;
    color: @on_secondary_container;
    box-shadow: 0 4px 12px alpha(@secondary, 0.2);
}

.widget-volume>box>button {
    background: transparent;
    border: none;
    color: @secondary_fixed_dim;
    font-size: 1.6rem;
}

/* Backlight widget */
.widget-backlight {
    background: @tertiary_container;
    border: 2px solid alpha(@tertiary, 0.5);
    border-top: none;
    font-size: 1.2rem;
    margin: 0px 10px 8px 10px;
    padding: 14px 18px;
    border-radius: 0px 0px 16px 16px;
    box-shadow: 0 4px 12px alpha(@tertiary, 0.2);
}

.widget-backlight>box>button {
    background: transparent;
    border: none;
    font-size: 1.6rem;
}

/* Mpris widget */
.widget-mpris {
    border: none;
    margin: 8px 10px;
}

.widget-mpris-player {
    padding: 16px;
    margin: 0px;
    background: @surface_container_high;
    border: 2px solid @outline_variant;
    border-radius: 16px;
}

.widget-mpris-album-art {
    border-radius: 12px;
    border: 2px solid @outline_variant;
}

.widget-mpris-player button {
    background: @surface_container_highest;
    border: 2px solid @outline_variant;
    border-radius: 12px;
    padding: 10px;
}

.widget-mpris-player button:hover {
    background: @primary_container;
    border: 2px solid @primary;
    box-shadow: 0 4px 8px alpha(@primary, 0.3);
}

.widget-mpris-title {
    font-weight: 700;
    font-size: 1.2rem;
}

.widget-mpris-subtitle {
    font-size: 1rem;
}

/*** Notifications ***/

.notification-row {
    outline: none;
    background: transparent;
    margin: 4px 0px;
}

.notification-row:focus,
.notification-row:hover {
    background: @surface_container_low;
    border-radius: 12px;
}

.notification-row .notification-background {
    padding: 0px;
}

.notification-row .notification-background .close-button {
    background: @error_container;
    text-shadow: none;
    padding: 0;
    border-radius: 50%;
    margin-top: 8px;
    margin-right: 8px;
    box-shadow: 0 2px 8px alpha(@error, 0.4);
    border: 2px solid alpha(@error, 0.5);
    min-width: 32px;
    min-height: 32px;
    font-weight: 700;
}

.notification-row .notification-background .close-button:hover {
    background: @error;
    color: @on_error;
    border: 2px solid @error;
    box-shadow: 0 4px 12px alpha(@error, 0.6);
    transition: background 0.2s ease-in-out;
}

.notification-row .notification-background .notification {
    border-radius: 12px;
    border: 2px solid @outline_variant;
    padding: 0;
    margin: 4px;
    transition: background 0.2s ease-in-out;
    background: @surface_container_highest;
}

.notification-row .notification-background .notification.low {
    border-left: 4px solid @secondary_fixed_dim;
    background: @secondary_container;
}

.notification-row .notification-background .notification.normal {
    border-left: 4px solid @primary_fixed_dim;
    background: @primary_container;
}

.notification-row .notification-background .notification.critical {
    border-left: 4px solid @error;
    background: @error_container;
    border: 2px solid @error;
}

.notification-row .notification-background .notification:hover {
    background: @surface_bright;
    border-color: @outline;
}

.notification-row .notification-background .notification.low:hover {
    background: @secondary_container;
    border-color: @secondary;
}

.notification-row .notification-background .notification.normal:hover {
    background: @primary_container;
    border-color: @primary;
}

.notification-row .notification-background .notification.critical:hover {
    background: @error_container;
    border-color: @error;
}

.notification-row .notification-background .notification .notification-action,
.notification-row .notification-background .notification .notification-default-action {
    padding: 4px;
    margin: 0;
    box-shadow: none;
    background: transparent;
    border: none;
    transition: background 0.2s ease-in-out;
}

.notification-row .notification-background .notification .notification-action:hover,
.notification-row .notification-background .notification .notification-default-action:hover {
    background: alpha(@surface_bright, 0.5);
}

.notification-row .notification-background .notification .notification-default-action {
    border-radius: 12px;
}

.notification-row .notification-background .notification .notification-default-action:not(:only-child) {
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content {
    background: transparent;
    border-radius: 12px;
    padding: 12px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .image {
    border-radius: 8px;
    margin: 4px 8px 4px 4px;
    -gtk-icon-size: 48px;
    border: 2px solid @outline_variant;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .app-icon {
    -gtk-icon-shadow: 0 2px 4px @shadow;
    margin: 6px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .text-box .summary {
    font-size: 16px;
    font-weight: 700;
    background: transparent;
    text-shadow: none;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .text-box .time {
    font-size: 13px;
    font-weight: 600;
    background: transparent;
    color: @outline;
    text-shadow: none;
    margin-right: 18px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .text-box .body {
    font-size: 14px;
    font-weight: 500;
    background: transparent;
    text-shadow: none;
}

.notification-row .notification-background .notification.critical .notification-default-action .notification-content .text-box .body {
    color: @on_error_container;
}

.notification-row .notification-background .notification .notification-default-action .notification-content progressbar {
    margin-top: 8px;
    border-radius: 8px;
    background: @surface_container_high;
    border: 1px solid @outline_variant;
}

.notification-row .notification-background .notification .notification-default-action .notification-content progressbar progress {
    background: @primary;
    border-radius: 8px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .body-image {
    margin-top: 8px;
    border-radius: 12px;
    border: 2px solid @outline_variant;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .inline-reply {
    margin-top: 8px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .inline-reply .inline-reply-entry {
    background: @surface_container_highest;
    border: 2px solid @outline_variant;
    border-radius: 12px;
    padding: 10px;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .inline-reply .inline-reply-button {
    margin-left: 8px;
    background: @primary_container;
    border: 2px solid @primary;
    border-radius: 12px;
    padding: 10px 16px;
    font-weight: 600;
    box-shadow: 0 2px 6px alpha(@primary, 0.3);
}

.notification-row .notification-background .notification .notification-default-action .notification-content .inline-reply .inline-reply-button:disabled {
    background: @surface_container_high;
    border: 2px solid @outline_variant;
    box-shadow: none;
}

.notification-row .notification-background .notification .notification-default-action .notification-content .inline-reply .inline-reply-button:hover {
    background: @primary;
    box-shadow: 0 4px 12px alpha(@primary, 0.4);
}

.notification-row .notification-background .notification .notification-action {
    border-top: 2px solid @outline_variant;
    border-radius: 0px;
    border-right: 2px solid @outline_variant;
}

.notification-row .notification-background .notification .notification-action:first-child {
    border-bottom-left-radius: 12px;
}

.notification-row .notification-background .notification .notification-action:last-child {
    border-bottom-right-radius: 12px;
    border-right: none;
}

/* Notification Groups */
.notification-group {
    transition: opacity 200ms ease-in-out;
    margin: 8px 10px;
}

.notification-group:focus {
    background: transparent;
}

.notification-group.low {
    background: @secondary_container;
    border-radius: 16px;
    border: 2px solid @secondary;
    border-left: 4px solid @secondary_fixed_dim;
    box-shadow: 0 4px 12px alpha(@secondary, 0.3);
}

.notification-group.normal {
    background: @primary_container;
    border-radius: 16px;
    border: 2px solid @primary;
    border-left: 4px solid @primary_fixed_dim;
    box-shadow: 0 4px 12px alpha(@primary, 0.3);
}

.notification-group.critical {
    background: @error_container;
    border-radius: 16px;
    border: 2px solid @error;
    border-left: 4px solid @error;
    box-shadow: 0 4px 12px alpha(@error, 0.3);
}

.notification-group .notification-group-buttons,
.notification-group .notification-group-headers {
    margin: 8px;
}

/*Group Notification Title*/
.notification-group .notification-group-headers {
    padding: 12px;
    background: @surface_container_highest;
    border: 2px solid @outline_variant;
    border-radius: 12px;
}

.notification-group .notification-group-headers .notification-group-icon {
    font-size: 1.2rem;
}

.notification-group .notification-group-headers .notification-group-header {
    font-weight: 700;
}

.notification-group.critical .notification-group-headers {
    background: @error_container;
    border: 2px solid @error;
}

/*Group Notification two buttons*/
.notification-group .notification-group-buttons {
    padding: 8px;
    background: @surface_container_highest;
    border: 2px solid @outline_variant;
    border-top: none;
    border-radius: 0px 0px 12px 12px;
}

.notification-group .notification-group-buttons>button {
    background: @surface_container_high;
    border: 2px solid @outline_variant;
    border-radius: 12px;
    padding: 8px 16px;
    font-weight: 600;
    transition: all 0.2s ease-in-out;
}

.notification-group .notification-group-buttons>button:hover {
    background: @primary_container;
    border: 2px solid @primary;
    box-shadow: 0 4px 8px alpha(@primary, 0.3);
}

/* Group close button */
.notification-group .notification-group-close-button .close-button {
    background: @error_container;
    border-radius: 50%;
    border: 2px solid alpha(@error, 0.5);
    min-width: 32px;
    min-height: 32px;
    font-weight: 700;
    box-shadow: 0 2px 8px alpha(@error, 0.4);
}

.notification-group .notification-group-close-button .close-button:hover {
    background: @error;
    border: 2px solid @error;
    box-shadow: 0 4px 12px alpha(@error, 0.6);
    transition: background 0.2s ease-in-out;
}

.notification-group.collapsed {
    background-color: transparent;
    border: none;
}

.notification-group.collapsed.not-expanded {
    opacity: 0.7;
}

.notification-group.collapsed .notification-row .notification {
    background: @surface_container_highest;
}

.notification-group.collapsed .notification-row:not(:last-child) .notification-action,
.notification-group.collapsed .notification-row:not(:last-child) .notification-default-action {
    opacity: 0;
    transition: opacity 400ms ease-in-out;
}

.notification-group.collapsed:hover .notification-row:not(:only-child) .notification {
    background: @surface_bright;
}
